From d8c1a30a93fcc0e1f7caa74fefde11e1510f3eeb Mon Sep 17 00:00:00 2001
From: Chris Rummel <crummel@microsoft.com>
Date: Wed, 26 Jun 2019 10:40:36 -0500
Subject: [PATCH 1/2] Exclude more projects from source-build.

---
 .../Async/test/Microsoft.DotNet.Analyzers.Async.Tests.csproj  | 1 +
 src/Logging/Logging.Analyzers/Directory.Build.props           | 4 ++++
 2 files changed, 5 insertions(+)

diff --git a/src/Analyzers/Async/test/Microsoft.DotNet.Analyzers.Async.Tests.csproj b/src/Analyzers/Async/test/Microsoft.DotNet.Analyzers.Async.Tests.csproj
index 8603e7c47..ebb78f4ea 100644
--- a/src/Analyzers/Async/test/Microsoft.DotNet.Analyzers.Async.Tests.csproj
+++ b/src/Analyzers/Async/test/Microsoft.DotNet.Analyzers.Async.Tests.csproj
@@ -5,6 +5,7 @@
     <PreserveCompilationContext>true</PreserveCompilationContext>
     <!-- Analyzers tests can't find netfx ref assemblies from a package -->
     <UsingToolNetFrameworkReferenceAssemblies Condition="'$(OS)' == 'Windows_NT'">false</UsingToolNetFrameworkReferenceAssemblies>
+    <ExcludeFromSourceBuild>true</ExcludeFromSourceBuild>
   </PropertyGroup>
 
   <ItemGroup>
diff --git a/src/Logging/Logging.Analyzers/Directory.Build.props b/src/Logging/Logging.Analyzers/Directory.Build.props
index eef045ad3..627533dd9 100644
--- a/src/Logging/Logging.Analyzers/Directory.Build.props
+++ b/src/Logging/Logging.Analyzers/Directory.Build.props
@@ -1,6 +1,10 @@
 ï»¿<Project>
   <Import Project="$([MSBuild]::GetDirectoryNameOfFileAbove($(MSBuildThisFileDirectory)..\, Directory.Build.props))\Directory.Build.props" />
 
+  <PropertyGroup>
+    <ExcludeFromSourceBuild>true</ExcludeFromSourceBuild>
+  </PropertyGroup>
+
   <ItemGroup>
     <Reference Include="Microsoft.CodeAnalysis.Common" PrivateAssets="All" />
     <Reference Include="Microsoft.CodeAnalysis.CSharp" PrivateAssets="All" />
-- 
2.21.0

