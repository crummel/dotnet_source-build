From 865c08ee0df93337ce36f4b9467748b3a6a5286b Mon Sep 17 00:00:00 2001
From: dseefeld <dseefeld@microsoft.com>
Date: Fri, 15 May 2020 16:38:48 +0000
Subject: [PATCH] Exclude analyzer for source-build

---
 Directory.Build.props | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/Directory.Build.props b/Directory.Build.props
index 6e658ac..851d142 100644
--- a/Directory.Build.props
+++ b/Directory.Build.props
@@ -111,7 +111,8 @@
       AND '$(IsBenchmarkProject)' != 'true'
       AND '$(IsTestAssetProject)' != 'true'
       AND '$(MSBuildProjectName)' != 'Internal.AspNetCore.Analyzers'
-      AND '$(MSBuildProjectExtension)' == '.csproj'">
+      AND '$(MSBuildProjectExtension)' == '.csproj'
+      AND '$(DotNetBuildFromSource)' != 'true'">
     <ProjectReference
       Include="$(RepoRoot)src\Analyzers\Internal.AspNetCore.Analyzers\src\Internal.AspNetCore.Analyzers.csproj"
       PrivateAssets="All"
-- 
1.8.3.1

