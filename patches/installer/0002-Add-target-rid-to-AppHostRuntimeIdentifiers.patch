From 7dcf1e61ed13e4092e23c5cf5c0405cc8da7080d Mon Sep 17 00:00:00 2001
From: dseefeld <dseefeld@microsoft.com>
Date: Mon, 29 Jun 2020 18:07:47 -0400
Subject: [PATCH] Add target rid to AppHostRuntimeIdentifiers
Updated from 3.1 patch at
https://github.com/dotnet/source-build/blob/2d5b506b13a06adf36f0feb4982ceebb7fa27123/patches/core-sdk/0008-Add-target-rid-to-AppHostRuntimeIdentifiers.patch

---
 src/redist/targets/GenerateBundledVersions.targets | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

diff --git a/src/redist/targets/GenerateBundledVersions.targets b/src/redist/targets/GenerateBundledVersions.targets
index b5cd873fe..0ccb80731 100644
--- a/src/redist/targets/GenerateBundledVersions.targets
+++ b/src/redist/targets/GenerateBundledVersions.targets
@@ -88,6 +88,11 @@
 
       <NetCoreRuntimePackRids Include="@(NetCore5RuntimePackRids)"/>
 
+      <NetCoreAppHostPackRids Include="
+          $(ProductMonikerRid);
+          @(NetCoreRuntimePackRids)
+          " />
+
       <AspNetCore30RuntimePackRids Include="
         win-x64;
         win-x86;
@@ -213,7 +218,7 @@ Copyright (c) .NET Foundation. All rights reserved.
                       TargetFramework="netcoreapp5.0"
                       AppHostPackNamePattern="Microsoft.NETCore.App.Host.**RID**"
                       AppHostPackVersion="$(_NETCoreAppPackageVersion)"
-                      AppHostRuntimeIdentifiers="@(NetCoreRuntimePackRids, '%3B')"
+                      AppHostRuntimeIdentifiers="@(NetCoreAppHostPackRids, '%3B')"
                       />
 
     <KnownCrossgen2Pack Include="Microsoft.NETCore.App.Crossgen2"
-- 
2.18.2

